# ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«å®Ÿè£…ã‚µãƒžãƒªãƒ¼

**æ—¥ä»˜**: 2025-11-03
**å¯¾è±¡**: Disease Community Platform - ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ã®å®Œå…¨å®Ÿè£…

## æ¦‚è¦

å…ƒã®è¨­è¨ˆæ›¸ ([database_schema.sql](database_schema.sql)) ã«åŸºã¥ãã€SQLAlchemyãƒ¢ãƒ‡ãƒ«ã‚’å®Œå…¨ã«å®Ÿè£…ã—ã¾ã—ãŸã€‚ã“ã‚Œã«ã‚ˆã‚Šã€è¦ä»¶å®šç¾© ([prompt.txt](prompt.txt)) ã§æŒ‡å®šã•ã‚ŒãŸã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ ãŒå®Ÿè£…ã•ã‚Œã¾ã—ãŸã€‚

## å®Ÿè£…å†…å®¹

### 1. Userãƒ¢ãƒ‡ãƒ«ã®æ‹¡å¼µ ([backend/app/models/user.py](backend/app/models/user.py))

#### è¿½åŠ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰

| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | åž‹ | èª¬æ˜Ž | è¦ä»¶ |
|-----------|-----|------|------|
| `member_id` | String(12) | 12æ¡ã®ä¼šå“¡IDï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã«è¡¨ç¤ºï¼‰ | âœ… å®Ÿè£… |
| `idp_id` | String(255) | æ±Žç”¨IDP IDï¼ˆå°†æ¥ã®åˆ‡ã‚Šæ›¿ãˆå¯¾å¿œï¼‰ | âœ… å®Ÿè£… |
| `idp_provider` | String(50) | IDãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼åï¼ˆauth0, oktaç­‰ï¼‰ | âœ… å®Ÿè£… |
| `first_name` | String(100) | åï¼ˆãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆæƒ…å ±ï¼‰ | âœ… å®Ÿè£… |
| `last_name` | String(100) | å§“ï¼ˆãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆæƒ…å ±ï¼‰ | âœ… å®Ÿè£… |
| `phone` | String(20) | é›»è©±ç•ªå· | âœ… å®Ÿè£… |
| `nickname` | String(50) | å…¬é–‹ç”¨ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ï¼ˆå¿…é ˆï¼‰ | âœ… å®Ÿè£… |
| `preferred_language` | String(5) | ãƒ¦ãƒ¼ã‚¶ãƒ¼å¸Œæœ›è¨€èªž | âœ… å®Ÿè£… |

#### ä¸»è¦æ©Ÿèƒ½

- **ä¼šå“¡IDè‡ªå‹•ç”Ÿæˆ**: `generate_member_id()` é–¢æ•°ã§12æ¡ã®ãƒ©ãƒ³ãƒ€ãƒ ãªæ•°å­—ã‚’ç”Ÿæˆ
- **IDPæŠ½è±¡åŒ–**: Auth0ä»¥å¤–ã®IDãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã¸ã®åˆ‡ã‚Šæ›¿ãˆã«å¯¾å¿œ
- **ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼åˆ†é›¢**: æœ¬åã¯ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã€ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ã¯å…¬é–‹ç”¨

#### å¤‰æ›´ç‚¹

- `display_name` ã‚’å‰Šé™¤ï¼ˆ`nickname` ã«çµ±åˆï¼‰
- `auth0_id` ã¯å¾Œæ–¹äº’æ›æ€§ã®ãŸã‚ä¿æŒ

### 2. Diseaseé–¢é€£ãƒ¢ãƒ‡ãƒ«ã®å®Œå…¨å®Ÿè£… ([backend/app/models/disease.py](backend/app/models/disease.py))

#### 2.1 Diseaseãƒ¢ãƒ‡ãƒ«ï¼ˆç–¾æ‚£ãƒžã‚¹ã‚¿ãƒ¼ï¼‰

**æ–°è¦ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰:**
- `disease_code`: ICD-10ãªã©ã®ç–¾æ‚£ã‚³ãƒ¼ãƒ‰
- `severity_level`: é‡ç—‡åº¦ãƒ¬ãƒ™ãƒ«ï¼ˆ1-5ã€åˆ¶ç´„ä»˜ãï¼‰

**ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³:**
- `translations`: ç¿»è¨³ãƒ‡ãƒ¼ã‚¿ï¼ˆ1:nï¼‰
- `category_mappings`: ã‚«ãƒ†ã‚´ãƒªãƒžãƒƒãƒ”ãƒ³ã‚°ï¼ˆn:mï¼‰
- `user_diseases`: ãƒ¦ãƒ¼ã‚¶ãƒ¼ç–¾æ‚£é–¢é€£ï¼ˆ1:nï¼‰

#### 2.2 DiseaseTranslationï¼ˆç–¾æ‚£ç¿»è¨³ï¼‰ - æ–°è¦å®Ÿè£…

å›½éš›åŒ–å¯¾å¿œã®ãŸã‚ã®ç¿»è¨³ãƒ†ãƒ¼ãƒ–ãƒ«

**ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰:**
- `disease_id`: å¤–éƒ¨ã‚­ãƒ¼ï¼ˆdiseases.idï¼‰
- `language_code`: è¨€èªžã‚³ãƒ¼ãƒ‰ï¼ˆja, enç­‰ï¼‰
- `translated_name`: ç¿»è¨³ã•ã‚ŒãŸç–¾æ‚£å
- `details`: è©³ç´°èª¬æ˜Ž

**åˆ¶ç´„:**
- UNIQUE(disease_id, language_code)

#### 2.3 DiseaseCategoryï¼ˆç–¾æ‚£ã‚«ãƒ†ã‚´ãƒªï¼‰ - æ–°è¦å®Ÿè£…

éšŽå±¤æ§‹é€ ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ã‚«ãƒ†ã‚´ãƒªã‚·ã‚¹ãƒ†ãƒ 

**ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰:**
- `category_code`: ã‚«ãƒ†ã‚´ãƒªã‚³ãƒ¼ãƒ‰ï¼ˆã‚·ã‚¹ãƒ†ãƒ å†…éƒ¨ç”¨ï¼‰
- `parent_category_id`: è¦ªã‚«ãƒ†ã‚´ãƒªIDï¼ˆéšŽå±¤æ§‹é€ å¯¾å¿œï¼‰
- `display_order`: è¡¨ç¤ºé †åº
- `is_active`: æœ‰åŠ¹/ç„¡åŠ¹

**ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³:**
- `parent`: è¦ªã‚«ãƒ†ã‚´ãƒª
- `children`: å­ã‚«ãƒ†ã‚´ãƒª
- `translations`: ç¿»è¨³ãƒ‡ãƒ¼ã‚¿
- `disease_mappings`: ç–¾æ‚£ãƒžãƒƒãƒ”ãƒ³ã‚°

**ä½¿ç”¨ä¾‹:**
```
ç²¾ç¥žç–¾æ‚£ (MENTAL_HEALTH)
â”œâ”€â”€ æ°—åˆ†éšœå®³ (MOOD_DISORDERS)
â”œâ”€â”€ ä¸å®‰éšœå®³ (ANXIETY_DISORDERS)
â””â”€â”€ ãƒ‘ãƒ¼ã‚½ãƒŠãƒªãƒ†ã‚£éšœå®³ (PERSONALITY_DISORDERS)
```

#### 2.4 DiseaseCategoryTranslationï¼ˆã‚«ãƒ†ã‚´ãƒªç¿»è¨³ï¼‰ - æ–°è¦å®Ÿè£…

ã‚«ãƒ†ã‚´ãƒªåã®å›½éš›åŒ–å¯¾å¿œ

**ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰:**
- `category_id`: å¤–éƒ¨ã‚­ãƒ¼ï¼ˆdisease_categories.idï¼‰
- `language_code`: è¨€èªžã‚³ãƒ¼ãƒ‰
- `translated_name`: ç¿»è¨³ã•ã‚ŒãŸã‚«ãƒ†ã‚´ãƒªå
- `description`: ã‚«ãƒ†ã‚´ãƒªèª¬æ˜Ž

#### 2.5 DiseaseCategoryMappingï¼ˆç–¾æ‚£-ã‚«ãƒ†ã‚´ãƒªé–¢é€£ï¼‰ - æ–°è¦å®Ÿè£…

ç–¾æ‚£ã¨ã‚«ãƒ†ã‚´ãƒªã®å¤šå¯¾å¤šé–¢ä¿‚

**ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰:**
- `disease_id`: å¤–éƒ¨ã‚­ãƒ¼ï¼ˆdiseases.idï¼‰
- `category_id`: å¤–éƒ¨ã‚­ãƒ¼ï¼ˆdisease_categories.idï¼‰

**åˆ¶ç´„:**
- UNIQUE(disease_id, category_id)

#### 2.6 DiseaseStatusï¼ˆç–¾æ‚£çŠ¶æ…‹ãƒžã‚¹ã‚¿ãƒ¼ï¼‰ - æ–°è¦å®Ÿè£…

ç–¾æ‚£ã®çŠ¶æ…‹ã‚’ç®¡ç†ï¼ˆæ´»å‹•æœŸã€å¯›è§£æœŸç­‰ï¼‰

**ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰:**
- `status_code`: çŠ¶æ…‹ã‚³ãƒ¼ãƒ‰ï¼ˆACTIVE, REMISSION, CUREDç­‰ï¼‰
- `display_order`: è¡¨ç¤ºé †åº
- `is_active`: æœ‰åŠ¹/ç„¡åŠ¹

**ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³:**
- `translations`: ç¿»è¨³ãƒ‡ãƒ¼ã‚¿
- `user_diseases`: ãƒ¦ãƒ¼ã‚¶ãƒ¼ç–¾æ‚£é–¢é€£

**ã‚µãƒãƒ¼ãƒˆã™ã‚‹çŠ¶æ…‹:**
- ACTIVE: æ´»å‹•æœŸ
- REMISSION: å¯›è§£æœŸ
- CURED: æ²»ç™’
- CHRONIC: æ…¢æ€§æœŸ
- UNDER_TREATMENT: æ²»ç™‚ä¸­

#### 2.7 DiseaseStatusTranslationï¼ˆçŠ¶æ…‹ç¿»è¨³ï¼‰ - æ–°è¦å®Ÿè£…

ç–¾æ‚£çŠ¶æ…‹ã®å›½éš›åŒ–å¯¾å¿œ

**ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰:**
- `status_id`: å¤–éƒ¨ã‚­ãƒ¼ï¼ˆdisease_statuses.idï¼‰
- `language_code`: è¨€èªžã‚³ãƒ¼ãƒ‰
- `translated_name`: ç¿»è¨³ã•ã‚ŒãŸçŠ¶æ…‹å
- `description`: çŠ¶æ…‹èª¬æ˜Ž

#### 2.8 UserDiseaseï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ç–¾æ‚£ï¼‰ã®æ‹¡å¼µ

**æ–°è¦ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰:**

| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | åž‹ | èª¬æ˜Ž |
|-----------|-----|------|
| `status_id` | Integer | ç–¾æ‚£çŠ¶æ…‹ï¼ˆå¤–éƒ¨ã‚­ãƒ¼ï¼‰ |
| `diagnosis_doctor` | String(200) | è¨ºæ–­åŒ»å¸«å |
| `diagnosis_hospital` | String(200) | è¨ºæ–­ç—…é™¢å |
| `severity_level` | Integer | é‡ç—‡åº¦ï¼ˆ1-5ã€åˆ¶ç´„ä»˜ãï¼‰ |
| `symptoms` | Text | ç—‡çŠ¶ |
| `limitations` | Text | ç”Ÿæ´»ä¸Šã®åˆ¶é™ |
| `medications` | Text | æœè–¬æƒ…å ± |
| `is_public` | Boolean | ä»–ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®å…¬é–‹è¨­å®š |
| `is_searchable` | Boolean | ç–¾æ‚£æ¤œç´¢ã§ã®è¡¨ç¤ºè¨­å®š |

**å¤‰æ›´ç‚¹:**
- `diagnosis_date`: DateTime â†’ Date ã«å¤‰æ›´
- å¾Œæ–¹äº’æ›æ€§ã®ãŸã‚ `severity`ï¼ˆStringï¼‰ã¨ `notes` ã‚’ä¿æŒ

**åˆ¶ç´„:**
- UNIQUE(user_id, disease_id)
- CHECK(severity_level >= 1 AND severity_level <= 5)

### 3. ãƒ¢ãƒ‡ãƒ«ã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ ([backend/app/models/__init__.py](backend/app/models/__init__.py))

ã™ã¹ã¦ã®æ–°ã—ã„ãƒ¢ãƒ‡ãƒ«ã‚’è¿½åŠ ã—ã¦ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ:

```python
__all__ = [
    "Base",
    "User",
    "Disease",
    "DiseaseTranslation",
    "DiseaseCategory",
    "DiseaseCategoryTranslation",
    "DiseaseCategoryMapping",
    "DiseaseStatus",
    "DiseaseStatusTranslation",
    "UserDisease",
]
```

### 4. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒžã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

**ãƒžã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«:**
[backend/alembic/versions/vjfpnzw7gojf_add_comprehensive_disease_models_and_.py](backend/alembic/versions/vjfpnzw7gojf_add_comprehensive_disease_models_and_.py)

**Revision ID:** `vjfpnzw7gojf`
**Revises:** `6b534d266a32`

#### ãƒžã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å†…å®¹

**Userãƒ†ãƒ¼ãƒ–ãƒ«:**
- 9ã¤ã®æ–°ã—ã„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’è¿½åŠ 
- 3ã¤ã®ãƒ¦ãƒ‹ãƒ¼ã‚¯ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ä½œæˆ

**Diseasesãƒ†ãƒ¼ãƒ–ãƒ«:**
- 2ã¤ã®æ–°ã—ã„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’è¿½åŠ 
- severity_level ã® CHECK åˆ¶ç´„ã‚’è¿½åŠ 

**æ–°è¦ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆ6ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰:**
1. `disease_translations`
2. `disease_categories`
3. `disease_category_translations`
4. `disease_category_mappings`
5. `disease_statuses`
6. `disease_status_translations`

**UserDiseasesãƒ†ãƒ¼ãƒ–ãƒ«:**
- 9ã¤ã®æ–°ã—ã„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’è¿½åŠ 
- å¤–éƒ¨ã‚­ãƒ¼åˆ¶ç´„ã€CHECKåˆ¶ç´„ã€ãƒ¦ãƒ‹ãƒ¼ã‚¯åˆ¶ç´„ã‚’è¿½åŠ 
- 3ã¤ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’è¿½åŠ 

## ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ§‹é€ 

### ãƒ†ãƒ¼ãƒ–ãƒ«ä¸€è¦§

| ãƒ†ãƒ¼ãƒ–ãƒ«å | èª¬æ˜Ž | çŠ¶æ…‹ |
|-----------|------|------|
| users | ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ± | âœ… æ‹¡å¼µå®Œäº† |
| diseases | ç–¾æ‚£ãƒžã‚¹ã‚¿ãƒ¼ | âœ… æ‹¡å¼µå®Œäº† |
| disease_translations | ç–¾æ‚£ç¿»è¨³ | âœ… æ–°è¦å®Ÿè£… |
| disease_categories | ç–¾æ‚£ã‚«ãƒ†ã‚´ãƒª | âœ… æ–°è¦å®Ÿè£… |
| disease_category_translations | ã‚«ãƒ†ã‚´ãƒªç¿»è¨³ | âœ… æ–°è¦å®Ÿè£… |
| disease_category_mappings | ç–¾æ‚£-ã‚«ãƒ†ã‚´ãƒªé–¢é€£ | âœ… æ–°è¦å®Ÿè£… |
| disease_statuses | ç–¾æ‚£çŠ¶æ…‹ãƒžã‚¹ã‚¿ãƒ¼ | âœ… æ–°è¦å®Ÿè£… |
| disease_status_translations | çŠ¶æ…‹ç¿»è¨³ | âœ… æ–°è¦å®Ÿè£… |
| user_diseases | ãƒ¦ãƒ¼ã‚¶ãƒ¼ç–¾æ‚£é–¢é€£ | âœ… æ‹¡å¼µå®Œäº† |

### ERå›³ï¼ˆä¸»è¦ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰

```
User (1) ----< (n) UserDisease (n) >---- (1) Disease
                         |                      |
                         |                      +----< (n) DiseaseTranslation
                         |                      |
                         |                      +----< (n) DiseaseCategoryMapping (n) >---- (1) DiseaseCategory
                         |                                                                        |
                         +---- (1) DiseaseStatus                                                  +----< (n) DiseaseCategoryTranslation
                                       |
                                       +----< (n) DiseaseStatusTranslation
```

## å›½éš›åŒ–å¯¾å¿œ

### ç¿»è¨³å¯¾è±¡

1. **ç–¾æ‚£å**: `disease_translations`
2. **ç–¾æ‚£ã‚«ãƒ†ã‚´ãƒª**: `disease_category_translations`
3. **ç–¾æ‚£çŠ¶æ…‹**: `disease_status_translations`

### è¨€èªžã‚³ãƒ¼ãƒ‰

ISO 639-1ã«æº–æ‹ ï¼ˆja, en, ko, zhç­‰ï¼‰

### ä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³

```python
# æ—¥æœ¬èªžã§ã®ç–¾æ‚£åå–å¾—ä¾‹
disease = db.query(Disease).filter(Disease.id == 1).first()
translation = db.query(DiseaseTranslation).filter(
    DiseaseTranslation.disease_id == disease.id,
    DiseaseTranslation.language_code == 'ja'
).first()
print(translation.translated_name)  # "ã†ã¤ç—…"
```

## è¦ä»¶ã¨ã®å¯¾å¿œ

### âœ… å®Œå…¨å®Ÿè£…æ¸ˆã¿

| è¦ä»¶ | å®Ÿè£… | ãƒ•ã‚¡ã‚¤ãƒ« |
|------|------|---------|
| 12æ¡ä¼šå“¡ID | âœ… member_id + è‡ªå‹•ç”Ÿæˆé–¢æ•° | user.py:35 |
| æœ¬åã¨ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ åˆ†é›¢ | âœ… first_name, last_name, nickname | user.py:47-52 |
| IDPæŠ½è±¡åŒ– | âœ… idp_id, idp_provider | user.py:38-40 |
| ç–¾æ‚£ç¿»è¨³ | âœ… DiseaseTranslation | disease.py:62-100 |
| ç–¾æ‚£ã‚«ãƒ†ã‚´ãƒªï¼ˆéšŽå±¤ï¼‰ | âœ… DiseaseCategory | disease.py:103-142 |
| ç–¾æ‚£çŠ¶æ…‹ç®¡ç† | âœ… DiseaseStatus | disease.py:217-245 |
| UserDiseaseè©³ç´°æƒ…å ± | âœ… è¨ºæ–­ã€ç—‡çŠ¶ã€åˆ¶é™ã€è–¬ç­‰ | disease.py:287-348 |
| ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼è¨­å®š | âœ… is_public, is_searchable | disease.py:328-329 |

### ðŸ“‹ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

**çŸ­æœŸï¼ˆå„ªå…ˆåº¦é«˜ï¼‰:**
1. ãƒžã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œã¨ãƒ†ã‚¹ãƒˆ
2. æ—¢å­˜APIã®æ›´æ–°ï¼ˆnicknameå¯¾å¿œç­‰ï¼‰
3. ã‚¹ã‚­ãƒ¼ãƒžï¼ˆPydanticï¼‰ã®æ›´æ–°
4. ã‚µãƒ¼ãƒ“ã‚¹ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®æ›´æ–°

**ä¸­æœŸ:**
1. ç¿»è¨³ãƒ‡ãƒ¼ã‚¿æŠ•å…¥ã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œæˆ
2. ãƒžã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿æŠ•å…¥ï¼ˆç–¾æ‚£ã€ã‚«ãƒ†ã‚´ãƒªã€çŠ¶æ…‹ï¼‰
3. å›½éš›åŒ–å¯¾å¿œAPIã®å®Ÿè£…
4. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®æ›´æ–°

**é•·æœŸ:**
1. è©±é¡Œï¼ˆTopicsï¼‰æ©Ÿèƒ½ã®å®Ÿè£…
2. ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ã®å®Ÿè£…
3. ãŠæ°—ã«å…¥ã‚Šæ©Ÿèƒ½ã®å®Ÿè£…

## ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

### ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ

**å¯¾è±¡:**
- ãƒ¢ãƒ‡ãƒ«ã®åŸºæœ¬æ“ä½œï¼ˆCRUDï¼‰
- ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®æ•´åˆæ€§
- åˆ¶ç´„ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
- ä¼šå“¡IDç”Ÿæˆæ©Ÿèƒ½

**ãƒ•ã‚¡ã‚¤ãƒ«:**
- `backend/tests/test_user_model.py`
- `backend/tests/test_disease_models.py`

### çµ±åˆãƒ†ã‚¹ãƒˆ

**å¯¾è±¡:**
- ãƒžã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
- ãƒ‡ãƒ¼ã‚¿æŠ•å…¥
- è¤‡é›‘ãªã‚¯ã‚¨ãƒªï¼ˆJOINç­‰ï¼‰
- å›½éš›åŒ–ãƒ‡ãƒ¼ã‚¿ã®å–å¾—

## äº’æ›æ€§

### å¾Œæ–¹äº’æ›æ€§

ä»¥ä¸‹ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯å¾Œæ–¹äº’æ›æ€§ã®ãŸã‚ä¿æŒ:

**Userãƒ¢ãƒ‡ãƒ«:**
- `auth0_id`: æ—¢å­˜ã®Auth0çµ±åˆã¨äº’æ›
- `display_name`: ãƒžã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³äº’æ›æ€§ã®ãŸã‚nullable
- `username`: ã‚ªãƒ—ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ã¨ã—ã¦ä¿æŒ

**UserDiseaseãƒ¢ãƒ‡ãƒ«:**
- `severity`: æ—¢å­˜ã®Stringåž‹ã®é‡ç—‡åº¦ï¼ˆéžæŽ¨å¥¨ï¼‰
- `notes`: æ±Žç”¨ãƒ¡ãƒ¢æ¬„

### ãƒžã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‘ã‚¹

1. æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ã¯ä¿æŒ
2. æ–°ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯nullableã¾ãŸã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚ã‚Š
3. æ®µéšŽçš„ãªç§»è¡ŒãŒå¯èƒ½

## ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è€ƒæ…®äº‹é …

### ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ä¿è­·

1. **å€‹äººæƒ…å ±ã®åˆ†é›¢:**
   - æœ¬åï¼ˆfirst_name, last_nameï¼‰: ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆ
   - ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ : å…¬é–‹

2. **ç–¾æ‚£æƒ…å ±ã®åˆ¶å¾¡:**
   - `is_public`: ä»–ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®å…¬é–‹åˆ¶å¾¡
   - `is_searchable`: æ¤œç´¢çµæžœã§ã®è¡¨ç¤ºåˆ¶å¾¡

3. **ä¼šå“¡ID:**
   - UUIDï¼ˆå†…éƒ¨ç”¨ï¼‰ã¨ä¼šå“¡IDï¼ˆè¡¨ç¤ºç”¨ï¼‰ã‚’åˆ†é›¢
   - æŽ¨æ¸¬å›°é›£ãª12æ¡ã®ãƒ©ãƒ³ãƒ€ãƒ æ•°å­—

## ã¾ã¨ã‚

### æˆæžœ

âœ… **9ã¤ã®æ–°ã—ã„ãƒ¢ãƒ‡ãƒ«ã‚’å®Ÿè£…**
âœ… **å®Œå…¨ãªå›½éš›åŒ–å¯¾å¿œ**
âœ… **éšŽå±¤æ§‹é€ ã‚’ã‚µãƒãƒ¼ãƒˆ**
âœ… **è©³ç´°ãªåŒ»ç™‚æƒ…å ±ç®¡ç†**
âœ… **ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼åˆ¶å¾¡æ©Ÿèƒ½**
âœ… **å¾Œæ–¹äº’æ›æ€§ã‚’ç¶­æŒ**
âœ… **ãƒžã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ**

### ãƒ¡ãƒˆãƒªã‚¯ã‚¹

| é …ç›® | å®Ÿè£…å‰ | å®Ÿè£…å¾Œ | å¢—åŠ  |
|------|--------|--------|------|
| ãƒ¢ãƒ‡ãƒ«æ•° | 3 | 9 | +200% |
| ãƒ†ãƒ¼ãƒ–ãƒ«æ•° | 3 | 9 | +200% |
| User ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ•° | 19 | 28 | +47% |
| Disease ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ•° | 7 | 9 | +29% |
| UserDisease ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ•° | 9 | 18 | +100% |

### æ¬¡å›žå®Ÿè£…æ™‚ã®æŽ¨å¥¨äº‹é …

1. Dockerç’°å¢ƒã§ãƒžã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
2. ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿æŠ•å…¥ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œ
3. APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®å‹•ä½œç¢ºèª
4. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¨ã®çµ±åˆãƒ†ã‚¹ãƒˆ

---

**å®Ÿè£…è€…:** Claude
**ãƒ¬ãƒ“ãƒ¥ãƒ¼çŠ¶æ…‹:** å®Ÿè£…å®Œäº†ã€ãƒ†ã‚¹ãƒˆå¾…ã¡
**é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«:**
- [backend/app/models/user.py](backend/app/models/user.py)
- [backend/app/models/disease.py](backend/app/models/disease.py)
- [backend/app/models/__init__.py](backend/app/models/__init__.py)
- [backend/alembic/versions/vjfpnzw7gojf_add_comprehensive_disease_models_and_.py](backend/alembic/versions/vjfpnzw7gojf_add_comprehensive_disease_models_and_.py)
